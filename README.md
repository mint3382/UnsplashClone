# ğŸï¸ Unsplash Clone

> í”„ë¡œì íŠ¸ ê¸°ê°„: 24.01.29 ~ 24.02.04

## ğŸ“– ëª©ì°¨
1. [ğŸ€ ì†Œê°œ](#ì†Œê°œ)
2. [ğŸ’» ì‹¤í–‰ í™”ë©´](#ì‹¤í–‰-í™”ë©´)
3. [ğŸ§¨ íŠ¸ëŸ¬ë¸” ìŠˆíŒ…](#íŠ¸ëŸ¬ë¸”-ìŠˆíŒ…)
4. [ğŸ“š ì°¸ê³  ë§í¬](#ì°¸ê³ -ë§í¬)
5. [ğŸ‘¥ íšŒê³ ](#íšŒê³ )

</br>

<a id="ì†Œê°œ"></a>

## ğŸ€ ì†Œê°œ
ê°ê°ì ì¸ ì´ë¯¸ì§€ë¥¼ ëœë¤í•˜ê²Œ ë°›ì•„ ë³´ê³ , ì›í•˜ëŠ” ê²ƒì„ ë¶ë§ˆí¬ì— ì €ì¥í•  ìˆ˜ ìˆë‹¤. 
</br>
ì†Œì¥í•˜ê³  ì‹¶ì€ ì´ë¯¸ì§€ëŠ” ë‹¤ìš´ë¡œë“œê°€ ê°€ëŠ¥! ë‚˜ë§Œì˜ ìŠ¤íƒ€ì¼ì„ ì°¾ì•„ ì €ì¥í•´ë³´ëŠ” ê±´ ì–´ë– ì‹ ì§€?


</br>

<a id="ì‹¤í–‰-í™”ë©´"></a>

## ğŸ’» ì‹¤í–‰ í™”ë©´

| ë¶ë§ˆí¬ê°€ ìˆëŠ” ë©”ì¸ í™”ë©´ | ë¶ë§ˆí¬ê°€ ì—†ëŠ” ë©”ì¸ í™”ë©´ |
|:--------:|:--------:|
|<img src="https://velog.velcdn.com/images/mintsong/post/a8d55537-08c4-4bfc-bff0-2f311faf9837/image.png"  alt="diary_scroll" width="300">|<img src= "https://velog.velcdn.com/images/mintsong/post/146cd3b7-4ed4-4a61-ab42-d71f2b918e15/image.png" alt="diary_detail" width="300">|

| ìµœì‹  ì´ë¯¸ì§€ ì…€ í´ë¦­ì‹œ ë””í…Œì¼ ë·° | ë¶ë§ˆí¬ ì…€ í´ë¦­ì‹œ ë””í…Œì¼ ë·° |
|:--------:|:--------:|
|<img src="https://velog.velcdn.com/images/mintsong/post/6df79dd2-f683-4da1-9f98-516ad389ee12/image.gif" alt="diary_delete" width="300">|<img src="https://velog.velcdn.com/images/mintsong/post/ce6f5067-f377-41bb-9485-c89f75ee8026/image.gif" alt="diary_share" width="300">|

| ë¶ë§ˆí¬ ì—†ì„ ë•Œ ë¶ë§ˆí¬ ì¶”ê°€ | ë¶ë§ˆí¬ ìˆì„ ë•Œ ë¶ë§ˆí¬ ì¶”ê°€ |
|:--------:|:--------:|
|<img src="https://velog.velcdn.com/images/mintsong/post/8fed744e-15d5-4139-99f3-24958e27e9b8/image.gif" alt="diary_delete" width="300">|<img src= "https://velog.velcdn.com/images/mintsong/post/377c8b07-b2b7-4daa-b85d-bee056bf80ed/image.gif" alt="diary_share" width="300">|

| ë¶ë§ˆí¬ ìˆì„ ë•Œ ë¶ë§ˆí¬ ì œê±° | ë¶ë§ˆí¬ ì „ì²´ ì œê±° |
|:--------:|:--------:|
|<img src="https://velog.velcdn.com/images/mintsong/post/8feee263-24a0-4bfe-b6f8-3cce2b9b166f/image.gif" alt="diary_delete" width="300">|<img src= "https://velog.velcdn.com/images/mintsong/post/3ded2768-c029-4ac0-98f3-419302d247c6/image.gif" alt="diary_share" width="300">|

| ëœë¤ í¬í†  ë‹¤ìŒ ì‚¬ì§„ ì „í™˜ ë²„íŠ¼ | ëœë¤ í¬í†  ì´ì „ ì‚¬ì§„ ì „í™˜ ë²„íŠ¼ |
|:--------:|:--------:|
|<img src="https://velog.velcdn.com/images/mintsong/post/cbf43817-6ff1-4055-8adf-9aaf7bcbafcd/image.gif" alt="diary_delete" width="300">|<img src="https://velog.velcdn.com/images/mintsong/post/bd22a3ff-9cff-4225-8e73-b1e7fa494b99/image.gif" alt="diary_share" width="300">|

| ëœë¤ í¬í†  ë””í…Œì¼ ë²„íŠ¼ | ë””í…Œì¼ ë·°ì˜ ë‹¤ìš´ë¡œë“œ ë²„íŠ¼ |
|:--------:|:--------:|
|<img src="https://velog.velcdn.com/images/mintsong/post/d303223a-6775-4c91-b49f-17fe5f846008/image.gif" alt="diary_delete" width="300">|<img src= "https://velog.velcdn.com/images/mintsong/post/d00d148e-26ca-4099-b81f-efc8efd3c6a5/image.gif" alt="diary_share" width="300">|

| ëœë¤ í¬í†  ë””í…Œì¼ ë²„íŠ¼ìœ¼ë¡œ ë¶ë§ˆí¬ ì¶”ê°€ | ëœë¤ í¬í†  ë””í…Œì¼ ë²„íŠ¼ìœ¼ë¡œ ë¶ë§ˆí¬ ì œê±° |
|:--------:|:--------:|
|<img src="https://velog.velcdn.com/images/mintsong/post/a9c7e78b-c223-4975-9d7a-7475c9895f8b/image.gif" alt="diary_delete" width="300">|<img src= "https://velog.velcdn.com/images/mintsong/post/5d161c86-37fc-4616-9e05-c046851daa5e/image.gif" alt="diary_share" width="300">|

| ë””í…Œì¼ ë·° ë„“ì´ê°€ ê¸´ ì‚¬ì§„ | ë””í…Œì¼ ë·° ë†’ì´ê°€ ê¸´ ì‚¬ì§„ |
|:--------:|:--------:|
|<img src= "https://velog.velcdn.com/images/mintsong/post/c70b5f39-9016-4127-bacb-c6516bc1a507/image.png" alt="diary_keyboard" width="300">|<img src= "https://velog.velcdn.com/images/mintsong/post/aa15c209-11e7-43cb-9901-1a68f6e42670/image.png" alt="diary_push_add_diary_view" width="300">|

| ì•± ì¢…ë£Œ í›„ ë‹¤ì‹œ ì‹œì‘í•´ë„ ì½”ì–´ë°ì´í„°ì— ë‚¨ì•„ìˆëŠ” ë¶ë§ˆí¬ |
|:--------:|
|<img src= "https://velog.velcdn.com/images/mintsong/post/73a00b91-af7e-4484-9816-e86c7986dda4/image.gif" alt="diary_keyboard" width="300">|

</br>

<a id="íŠ¸ëŸ¬ë¸”-ìŠˆíŒ…"></a>

## ğŸ§¨ íŠ¸ëŸ¬ë¸” ìŠˆíŒ…
###### í•µì‹¬ íŠ¸ëŸ¬ë¸” ìŠˆíŒ…ìœ„ì£¼ë¡œ ì‘ì„±í•˜ì˜€ìŠµë‹ˆë‹¤.
1ï¸âƒ£ **Custom Pinterest Layout With FlowLayout** <br>
-
ğŸ”’ **ë¬¸ì œì ** <br>
ì²˜ìŒì—ëŠ” Compositional layoutìœ¼ë¡œ pinterest viewë¥¼ êµ¬í˜„í•˜ê³  ì‹¶ì—ˆë‹¤. ë¶ë§ˆí¬ ì„¹ì…˜ê³¼ ìµœì‹  ì´ë¯¸ì§€ ì„¹ì…˜ì„ ìœ ë™ì ìœ¼ë¡œ êµ¬í˜„í•˜ê¸° ìœ„í•´ì„œëŠ” Compositionalì˜ ì„¹ì…˜ ì°¨ì´ë¥¼ ë‘ëŠ” ê²ƒì´ ì¢‹ì„ ê²ƒ ê°™ì•˜ë‹¤. ê·¸ëŸ¬ë‚˜ í•˜ë‚˜ì˜ ì•„ì´í…œ ì‚¬ì´ì¦ˆë¡œ ëª¨ë“  ê·¸ë£¹ ë‚´ì˜ ì•„ì´í…œë“¤ì˜ ìœ„ì¹˜ë¥¼ ì¡ëŠ” ë°”ëŒì—, ê²°êµ­ êµ¬í˜„ì— ì„±ê³µí•  ìˆ˜ ì—†ì—ˆë‹¤. 


ğŸ”‘ **í•´ê²°ë°©ë²•** <br>
ë•Œë¬¸ì— í•˜ëŠ” ìˆ˜ ì—†ì´ ë‹¤ë¥¸ ë°©ë²•ì„ ìƒê°í•´ ë³´ì•„ì•¼ í–ˆë‹¤. ê°€ì¥ ê³ ë¯¼í•´ ë³¸ ê²ƒì€ FlowLayoutê³¼ Compositional layoutì˜ íŠ¹ì§•ì´ì—ˆë‹¤. flowëŠ” ë§ ê·¸ëŒ€ë¡œ íë¥´ë“¯ì´ cellì˜ ìˆœì„œê°€ ì •í•´ì§„ë‹¤. ë˜í•œ ê° cellì˜ ì•„ì´í…œ ì‚¬ì´ì¦ˆë“¤ì„ ë‹¤ë¥´ê²Œ ì¤„ ìˆ˜ ìˆë‹¤ê³  ê³µì‹ ë¬¸ì„œì— ëª…ì‹œë˜ì–´ ìˆë‹¤.
>Cells can be the same sizes or different sizes.

ë•Œë¬¸ì— flowLayoutì„ ì„ íƒí•˜ì˜€ëŠ”ë° ê°ê°ì˜ ì‚¬ì´ì¦ˆë¥¼ ë‹¤ë¥´ê²Œ ì£¼ëŠ” ê²ƒ ë¿ë§Œì´ ì•„ë‹ˆë¼ ê°„ê²©ì´ ì¼ì •í•˜ê¸° ìœ„í•´ì„œëŠ” ì¢Œí‘œë“¤ì„ ê³„ì‚°í•´ ì£¼ì–´ì•¼ í–ˆë‹¤. ë•Œë¬¸ì— ê²°êµ­ custom class layoutì„ ë§Œë“¤ì–´ì„œ í•´ê²°í•˜ì˜€ë‹¤. (ê³„ì‚°ê³¼ ê´€ë ¨í•œ ê²ƒì€ [ë‹¤ë¥¸ ë¼ì´ë¸ŒëŸ¬ë¦¬ë“¤](https://github.com/ecerney/CollectionViewWaterfallLayout)ì„ ì°¸ê³ í•˜ì˜€ë‹¤.)

```swift
final class PinterestFlowLayout: UICollectionViewFlowLayout {
    private var numberOfColumns = 2
    private var cellPadding: CGFloat = 4
    
    private var headerCache = [UICollectionViewLayoutAttributes]()
    private var cache = [UICollectionViewLayoutAttributes]()
    private var sectionItemAttributes = [[UICollectionViewLayoutAttributes]]()
    private var allItemAttributes = [UICollectionViewLayoutAttributes]()
    
    //content Sizeë¥¼ ì €ì¥í•˜ê¸° ìœ„í•œ ì†ì„±ë“¤.
    //contentHeight: ì‚¬ì§„ì´ ì¶”ê°€ë˜ë©´ ì¦ê°€
    //contentWidth: collectionViewì˜ ë„“ì´ì™€ ìì²´ contentInset ê¸°ë°˜ìœ¼ë¡œ ê³„ì‚°
    var contentHeight: CGFloat = 0
    var contentWidth: CGFloat {
        guard let collectionView = collectionView else {
            return 0
        }
        let insets = collectionView.contentInset
        return collectionView.bounds.width - (insets.left + insets.right)
    }
    
    //collectionViewì˜ contentSizeë¥¼ ë°˜í™˜í•˜ëŠ” ë©”ì„œë“œ ì¬ì •ì˜
    override var collectionViewContentSize: CGSize {
        return CGSize(width: contentWidth, height: contentHeight)
    }
    
    override func prepare() {
        guard let collectionView else {
            return
        }
        
        var top: CGFloat = 0
        
        let headerHeight: CGFloat = 50
        let headerInset: UIEdgeInsets = UIEdgeInsets(top: 0, left: 4, bottom: 0, right: 0)
        
        top += headerInset.top
        
        let attributes = UICollectionViewLayoutAttributes(forSupplementaryViewOfKind: UICollectionView.elementKindSectionHeader, with: NSIndexPath(item: 0, section: 0) as IndexPath)
        attributes.frame = CGRect(x: headerInset.left, y: top, width: collectionView.frame.size.width - (headerInset.left + headerInset.right), height: CGFloat(headerHeight))
        
        headerCache.append(attributes)
        allItemAttributes.append(attributes)
        
        top = attributes.frame.maxY + headerInset.bottom
        
        //ì—´ ë„“ì´ ê¸°ë°˜ ëª¨ë“  columnì— ëŒ€í•´ xì¢Œí‘œì™€ í•¨ê»˜ xOffset ë°°ì—´ ì±„ì›€.
        let columnWidth = contentWidth / CGFloat(numberOfColumns)
        var xOffset = [CGFloat]() //cellì˜ x ìœ„ì¹˜ë¥¼ ë‚˜íƒ€ë‚´ëŠ” ë°°ì—´
        for column in 0 ..< numberOfColumns {
            xOffset.append(CGFloat(column) * columnWidth)
        }
        
        //yOffset ë°°ì—´ì€ ëª¨ë“  ì—´ì— ëŒ€í•œ yìœ„ì¹˜ ì¶”ì 
        //ê° ì—´ì˜ ì²«ë²ˆì§¸ í•­ëª©ì˜ offsetì´ê¸° ë•Œë¬¸ì— ë°°ì—´ ê°’ë“¤ì„ 0ìœ¼ë¡œ ì´ˆê¸°í™”
        var column = 0 //í˜„ì¬ í–‰ì˜ ìœ„ì¹˜
        var yOffset = [CGFloat](repeating: top, count: numberOfColumns) //cellì˜ yìœ„ì¹˜ë¥¼ ë‚˜íƒ€ë‚´ëŠ” ë°°ì—´
        //ë‹¨ í•˜ë‚˜ì˜ ì„¹ì…˜ë§Œ ìˆëŠ” ë ˆì´ì•„ì›ƒ
        //ì²« ë²ˆì§¸ ì„¹ì…˜ì˜ ëª¨ë“  ì•„ì´í…œ ë°˜ë³µ
        for item in 0 ..< collectionView.numberOfItems(inSection: 0) {
            let indexPath = IndexPath(item: item, section: 0)
            
            //í”„ë ˆì„ ê³„ì‚°
            let photoHeight = CGFloat.random(in: 100...300)
            let height = cellPadding * 2 + (photoHeight)
            
            let frame = CGRect(x: xOffset[column],
                               y: yOffset[column],
                               width: columnWidth,
                               height: height)
            let insetFrame = frame.insetBy(dx: cellPadding, dy: cellPadding)
            
            //ì¸ìŠ¤í„´ìŠ¤ ìƒì„±, frame ì‚¬ìš©í•˜ì—¬ ìì²´ í”„ë ˆì„ ì„¤ì •, ìºì‹œì— ì¶”ê°€
            let attributes = UICollectionViewLayoutAttributes(forCellWith: indexPath)
            attributes.frame = insetFrame
            cache.append(attributes)
            allItemAttributes.append(attributes)
            
            //ìƒˆë¡œ ê³„ì‚°ëœ í•­ëª©ì˜ í”„ë ˆì„ì„ í™•ì¥
            contentHeight = max(contentHeight, frame.maxY)
            yOffset[column] = yOffset[column] + height
            
            //ë‹¤ìŒ í•­ëª©ì´ ë‹¤ìŒ ì—´ì— ë°°ì¹˜ë˜ë„ë¡
            column = yOffset[0] > yOffset[1] ? 1 : 0
        }
        
        sectionItemAttributes.append(cache)
    }
    
//    ëª¨ë“  ì…€ê³¼ ë³´ì¶© ë·°ì˜ ë ˆì´ì•„ì›ƒ ì •ë³´ ë¦¬í„´
    override func layoutAttributesForElements(in rect: CGRect) -> [UICollectionViewLayoutAttributes]? {
      
      var visibleLayoutAttributes = [UICollectionViewLayoutAttributes]()
      
      for attributes in allItemAttributes {
        if attributes.frame.intersects(rect) {
          visibleLayoutAttributes.append(attributes)
        }
      }
      return visibleLayoutAttributes
    }
    
    //ëª¨ë“  ì…€ì˜ ë ˆì´ì•„ì›ƒ ì •ë³´ ë¦¬í„´
    override func layoutAttributesForItem(at indexPath: IndexPath) -> UICollectionViewLayoutAttributes? {
        return sectionItemAttributes[indexPath.section][indexPath.item]
    }
    
    override func layoutAttributesForSupplementaryView(ofKind elementKind: String, at indexPath: IndexPath) -> UICollectionViewLayoutAttributes? {
        return headerCache[indexPath.section]
    }
}
```

<br>


2ï¸âƒ£ **Custom FlowLayout Header ì¶”ê°€** <br>
-
ğŸ”’ **ë¬¸ì œì ** <br>
ì»¤ìŠ¤í…€ ë ˆì´ì•„ì›ƒì„ ì‚¬ìš©í–ˆë”ë‹ˆ í—¤ë”ë¥¼ ì¶”ê°€í•˜ëŠ” ê²ƒì— ìˆì–´ì„œ ì–´ë ¤ì›€ì´ ìˆì—ˆë‹¤. í—¤ë”ë¥¼ ì¶”ê°€í•˜ê³ , headerReferenceSizeë¥¼ ë ˆì´ì•„ì›ƒì— ë“±ë¡í•˜ë©´, ë³´ì—¬ì£¼ëŠ” ê²ƒì€ dataSourceì˜ ì˜ì—­ì´ë¼ê³  ìƒê°í–ˆë‹¤. 
- ì»¬ë ‰ì…˜ë·°ë¥¼ ë“±ë¡í•  ë•Œ í—¤ë”ë„ ë“±ë¡í•´ì£¼ê³ ,
```swift
collectionView.register(HeaderView.self, forSupplementaryViewOfKind: UICollectionView.elementKindSectionHeader, withReuseIdentifier: HeaderView.identifier)
```
- dataSourceë¥¼ ì„¸íŒ…í•  ë•Œë„, supplementaryViewProviderë¥¼ í†µí•´ ë“±ë¡í•´ì£¼ì—ˆë‹¤. 
```swift
dataSource?.supplementaryViewProvider = { view, kind, indexPath in
	guard let header = view.dequeueReusableSupplementaryView(ofKind: kind, withReuseIdentifier: HeaderView.identifier, for: indexPath) as? HeaderView else {
		return .init()
    }
    header.configureLabel(text: "ìµœì‹  ì´ë¯¸ì§€")
    return header
}
```
- ë˜í•œ ë ˆì´ì•„ì›ƒì„ ë„£ì–´ì£¼ëŠ” ë¶€ë¶„ì—ì„œ headerReferenceSizeë¥¼ ì¶”ê°€í•´ì£¼ì—ˆë‹¤.
```swift
let layout = PinterestFlowLayout()
layout.headerReferenceSize = .init(width: 300, height: 100)
layout.sectionInset = UIEdgeInsets(top: 10, left: 10, bottom: 10, right: 10)
layout.minimumInteritemSpacing = 10
        
collectionView.setCollectionViewLayout(layout, animated: true)
```
ê·¸ëŸ°ë° headerê°€ ëœ¨ì§€ ì•Šì•˜ë‹¤. ê³ ë¯¼í•˜ë‹¤ê°€ `UICollectionViewLayoutAttributes`ì— `init(forSupplementaryViewOfKind:with:)`ì´ë¼ëŠ” initializerê°€ ì¡´ì¬í•˜ëŠ” ê²ƒì„ ì•Œê²Œë˜ì—ˆë‹¤. 

ğŸ”‘ **í•´ê²°ë°©ë²•** <br>
custom layoutì„ êµ¬í˜„í•˜ì—¬ ì‚¬ìš©í•˜ê³  ìˆê¸°ì—, headerê°€ ë“±ë¡ë˜ë„ ì´ì— ë”°ë¥¸ layout attributes ê°ì²´ê°€ ì¡´ì¬í•˜ì§€ ì•Šì•„ ìœ„ì¹˜ë¥¼ ì¡ì§€ ëª»í•˜ê³  ë³´ì´ì§€ ì•ŠëŠ” ê²ƒì´ì—ˆë‹¤. ë•Œë¬¸ì— ì´ë¥¼ ì‚¬ìš©í•˜ì—¬ headerì˜ layout attributesë¥¼ ì €ì¥í•˜ê³  ë°˜í™˜í•˜ì—¬ ì‚¬ìš©í•  ìˆ˜ ìˆê²Œ ë³€ê²½í•˜ì˜€ë‹¤. 

```swift
 var top: CGFloat = 0
        
 let headerHeight: CGFloat = 50
 let headerInset: UIEdgeInsets = UIEdgeInsets(top: 0, left: 4, bottom: 0, right: 0)
        
top += headerInset.top
        
let attributes = UICollectionViewLayoutAttributes(forSupplementaryViewOfKind: UICollectionView.elementKindSectionHeader, with: NSIndexPath(item: 0, section: 0) as IndexPath)
attributes.frame = CGRect(x: headerInset.left, y: top, width: collectionView.frame.size.width - (headerInset.left + headerInset.right), height: CGFloat(headerHeight))
        
headerCache.append(attributes)
allItemAttributes.append(attributes)
        
top = attributes.frame.maxY + headerInset.bottom
```

<br>

3ï¸âƒ£ **PhotoService Singletonìœ¼ë¡œ êµ¬í˜„** <br>
-
ğŸ”’ **ë¬¸ì œì ** <br>
Coredataì™€ ê´€ë ¨í•œ ë¡œì§ì„ ì–´ë–»ê²Œ ì²˜ë¦¬í• ì§€ ê³ ë¯¼í•˜ì˜€ë‹¤. 3ê°œì˜ ë·°ì»¨ì—ì„œ CoreDataë¥¼ ì‚¬ìš©í•´ì•¼ í–ˆëŠ”ë° ê°ê°ì˜ ë·°ì»¨ì—ì„œ ë§¤ë²ˆ ê´€ë ¨ ë¡œì§ì„ êµ¬í˜„í•˜ëŠ” ê²ƒì´ë‚˜, containerë¥¼ ì„ ì–¸í•˜ì—¬ ì§€ë‹ˆê³  ìˆëŠ” ê²ƒì´ ë¶ˆí•„ìš”í•˜ê²Œ ëŠê»´ì¡Œë‹¤. 

ğŸ”‘ **í•´ê²°ë°©ë²•** <br>
ì‹±ê¸€í†¤ íŒ¨í„´ì„ ì‚¬ìš©í•˜ì—¬ í•´ê²°í•˜ì˜€ë‹¤. ì´ëŠ” ì•ˆí‹° íŒ¨í„´ìœ¼ë¡œë„ ë¶ˆë¦´ ë§Œí¼ ì£¼ì˜í•´ì•¼í•˜ëŠ” íŒ¨í„´ì´ì§€ë§Œ, ë‹¤ìˆ˜ì˜ ë·°ì»¨ì—ì„œ í•˜ë‚˜ì˜ containerë¥¼ í•„ìš”ë¡œ í•œë‹¤ëŠ” ì , ì½”ì–´ë°ì´í„° containerì˜ íŠ¹ì„± ë° ì´ ì•±ì˜ íŠ¹ì„± ìƒ 1ê°œ ì´ìƒì˜ containerê°€ í•„ìš”ì¹˜ ì•Šë‹¤ëŠ” ì ë“±ìœ¼ë¡œ ì¸í•´ ì´ë¥¼ í†µí•´ êµ¬í˜„í•˜ì˜€ë‹¤.

<br>

4ï¸âƒ£ **ìœ ë™ì ìœ¼ë¡œ ë‚˜íƒ€ë‚˜ê³  ì‚¬ë¼ì§€ëŠ” BookmarkViewì™€ BookmarkCell** <br>
-
ğŸ”’ **ë¬¸ì œì ** <br>
bookmarkì™€ ê´€ë ¨í•´ì„œëŠ” ê³ ë ¤í•´ì•¼í•  ì‚¬í•­ë“¤ì´ ë§ì•˜ë‹¤. modalë¡œ ë„ìš´ detailViewControllerì—ì„œ ë¶ë§ˆí¬ ë²„íŠ¼ì„ ëˆ„ë¥´ë©´ BookmarkViewControllerì—ì„œ í•´ë‹¹ ë””í…Œì¼ ë·°ì˜ ëª¨ë¸ì„ ì¶”ê°€í•˜ê±°ë‚˜, ì‚­ì œí•˜ì—¬ collectionViewì—ì„œ cellì´ ë‚˜íƒ€ë‚˜ê±°ë‚˜, ì‚¬ë¼ì§€ê±°ë‚˜í•˜ëŠ” ë³€í™”ê°€ ìˆì–´ì•¼ í–ˆë‹¤. ë˜í•œ BookmarkViewControllerì˜ ê·¸ëŸ¬í•œ ëª¨ë¸ì˜ ë³€í™”ì— ë”°ë¼ ëª¨ë¸ì´ í•˜ë‚˜ë„ ì—†ìœ¼ë©´ MainViewControllerì—ì„œ BookmarkViewControllerë¥¼ ë‚´ë ¤ì•¼ í–ˆê³ , ì—†ë‹¤ê°€ ìƒê¸°ë©´ ì¶”ê°€í•´ì•¼ í–ˆë‹¤. ë‹¨ìˆœíˆ viewWillAppearë§Œ ì‚¬ìš©í–ˆì„ ë•Œì—ëŠ”, modal presentë¥¼ ì‚¬ìš©í•˜ì˜€ê¸°ì— ë³€í•˜ì§€ ì•Šì•˜ë‹¤. 


ğŸ”‘ **í•´ê²°ë°©ë²•** <br>
Detail Delegate, Bookmark Delegateë¥¼ ì‚¬ìš©í•˜ì—¬ í•´ê²°í•˜ì˜€ë‹¤. DetailViewControllerì—ì„œ ë²„íŠ¼ì´ ëˆŒë¦¬ë©´, í•´ë‹¹ delegateë¥¼ ì±„íƒí•˜ê³  ìˆëŠ” BookmarkViewControllerì—ì„œ ë°ì´í„°ë¥¼ ì¶”ê°€í•˜ê±°ë‚˜, ì‚­ì œí•œë‹¤. ì´ë•Œ BookmarkViewControllerëŠ” Bookmark Delegateë¥¼ í†µí•´ Bookmark Delegateë¥¼ ì±„íƒí•˜ê³  ìˆëŠ” MainViewControllerì— UIì˜ ë³€í™”ë¥¼ ìš”ì²­í•œë‹¤.

```swift
protocol DetailDelegate {
    func updateSnapshot()
}

//DetailViewController
@objc private func tappedBookmarkButton() {
	if element.likedByUser == false {
		bookmarkButton.layer.opacity = 0.7
        element.likedByUser = true
        PhotoService.shared.saveData(element)
    } else {
        bookmarkButton.layer.opacity = 0.1
        element.likedByUser = false
        PhotoService.shared.deleteData(element)
    }
    delegate?.updateSnapshot()
}

//BookmarkViewController
extension BookmarkViewController: DetailDelegate {
    func updateSnapshot() {
        bookmarks = PhotoService.shared.fetchData()
        delegate?.updateConfiguration()
    }
}

```

```swift
protocol BookmarkProtocol {
    func updateConfiguration()
}

//BookmarkViewController
extension BookmarkViewController: DetailDelegate {
    func updateSnapshot() {
        bookmarks = PhotoService.shared.fetchData()
        delegate?.updateConfiguration()
    }
}

//MainViewController
extension MainViewController: BookmarkProtocol {
    func updateConfiguration() {
        bookmarkController?.bookmarks = PhotoService.shared.fetchData()
        
        view.removeConstraints(constraints)
        updateBookMarkViewController()
        configureCollectionViewUI()
    }
}
```


<br>

<a id="ì°¸ê³ -ë§í¬"></a>

## ğŸ“š ì°¸ê³  ë§í¬
- [ğŸApple Docs: UICollectionViewLayoutAttributes](https://developer.apple.com/documentation/uikit/uicollectionviewlayoutattributes)
- [ğŸApple Docs: init(forSupplementaryViewOfKind:with:)](https://developer.apple.com/documentation/uikit/uicollectionviewlayoutattributes/1617801-init)
- [ğŸApple Docs: UICollectionViewFlowLayout](https://developer.apple.com/documentation/uikit/uicollectionviewflowlayout)
- [ğŸApple Docs: UICollectionViewCompositionalLayout](https://developer.apple.com/documentation/uikit/uicollectionviewcompositionallayout)
- [ğŸApple Docs: UICollectionViewDiffableDataSource](https://developer.apple.com/documentation/uikit/uicollectionviewdiffabledatasource)


</br>

<a id="íšŒê³ "></a>

## ğŸ‘¥ íšŒê³ 

### ğŸ˜ˆMINT
ê¸¸ë‹¤ê³  ìƒê°í–ˆë˜ ì¼ì£¼ì¼ì€ ëª¹ì‹œë‚˜ ì§§ì•˜ë‹¤. ì²˜ìŒ ì‚¬ìš©í•´ë³´ëŠ” collectionView, flowLayout, compositionalLayout, DiffableDataSourceë“±ì— ì¹˜ì—¬ êµ¬ì¡°ì ì¸ ê³ ë¯¼ê³¼ ê¹”ë”í•œ ì½”ë“œ, ë¡œì§ì„ ìƒê°í•  ì‹œê°„ì´ ë¶€ì¡±í–ˆë‹¤. ë¶ˆí•„ìš”í•œ ë¶€ë¶„ë“¤, ì¤‘ë³µì ì¸ ìš”ì†Œë“¤ì„ ë°°ì œí•˜ê³  ì‹¶ì—ˆì§€ë§Œ ê·¸ëŸ¬í•œ ì ê¹Œì§€ í•¨ê»˜ ê°€ì ¸ê°€ê¸°ì—ëŠ” ì—¬ì „íˆ ìŠ¤ìŠ¤ë¡œê°€ ë§ì´ ë…¸ë ¥í•´ì•¼ í•œë‹¤ê³  ëŠê¼ˆë‹¤.

ìµœìš°ì„ ìœ¼ë¡œ í–ˆë˜ ê²ƒì€ êµ¬í˜„ì´ì—ˆë‹¤. ì‚¬ìš©ìê°€ ëŠë¼ê¸°ì—, ë™ì‘í•˜ì§€ ì•ŠëŠ” ë¶€ë¶„ì´ ì—†ë„ë¡ í•˜ëŠ” ê²ƒì´ ëª©í‘œì˜€ê³ , ê·¸ ì™¸ì— ì œìŠ¤ì³ ë“±ì€ ë’¤ë¡œ ë¯¸ë¤˜ë‹¤. ê·¸ëŸ¬ë‚˜ pinterestì— ì‹œê°„ì„ ë§ì´ ë¹¼ì•—ê²¨ ë¬´í•œ ìŠ¤í¬ë¡¤ì„ êµ¬í˜„í•˜ì§€ ëª»í•œ ì ì´ ì“°ë¦¬ë‹¤. ì´ë˜ì €ë˜ ì•„ì‰¬ìš´ ê²ƒë“¤ì´ ë§ê³  ìš•ì‹¬ì´ ë‚˜ëŠ” ê³¼ì œì˜€ì§€ë§Œ, ë¶™ì¡ê³  ìˆìŒì— í–‰ë³µí–ˆë˜ ì‹œê°„ì´ì—ˆë‹¤. ë‹¤ë§Œ ë‹¤ìŒì— ì´ëŸ¬í•œ ê³¼ì œë¥¼ ë°›ëŠ”ë‹¤ë©´, ì²˜ìŒì— ê°€ë³ê²Œë¼ë„ êµ¬ì¡°ë¥¼ ì •ë¦¬í•´ë†“ê³  ìŠ¤í…ì„ ë‚˜ëˆ„ëŠ” ê²ƒì´ ë” íš¨ìœ¨ì ì¼ ê²ƒ ê°™ë‹¤. 

[Github Profile](https://github.com/mint3382)
[Trouble_Shooting Log](https://mintraum.tistory.com/)

</br>
